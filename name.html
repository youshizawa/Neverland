<html>
<head>
        <title>Draw Name</title>
</head>
<body>
<p>
 请选择你的文件:<input type="file" id="file" >
</p>
<p>
<input type="submit" id="button2"  value="绘制" onclick="readfile()">
</p>
<div id="tt">
 </div>
<table width="1000" height="700" border="1">
      <tr>
      <canvas id=canvas width="1200px" height="600px"></canvas></th>
      </tr>
 </table>
 </body>
 <script>
 var MAXAMOUNT=1000;
var canvas=document.getElementsByName("canvas")[0];
var context = canvasDom.getContext('2d');
              
function readfile()
{ var reader=new FileReader();
   
    reader.onload = function (e) 
      {
        var fileText = e.target.result.split("\n");
         for(var i=0;i<fileText.length;i++)
         {
            var string = fileText[i];
			 var temp = string.split(",");
             if(temp.length == 1){
				if(string == "END"){
					context.strokeStyle = "gray";
                    context.lineWidth = 10; 
					context.lineTo(20*x, 20*y);
					context.stroke(); 
				}
				else{
					context.beginPath(); 
					context.strokeStyle = "gray";
                    context.lineWidth = 10; 
					string = fileText[i++];
					temp = string.split(",");
					var x = temp[0];
					var y = temp[1];
					context.moveTo(x*20,y*20);
				}
			}
			else{
				var x = temp[0];
				var y = temp[1];
				context.strokeStyle = "gray";
                    context.lineWidth = 10; 
				context.lineTo(x*20,y*20);
			}
	   }
	   var file=document.getElementById("file").files[0];
    reader.readAsText(file);
    }
}
        

            </script>
    </html>
       